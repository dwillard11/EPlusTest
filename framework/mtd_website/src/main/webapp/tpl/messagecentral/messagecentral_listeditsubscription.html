<div class="bg-light lter b-b wrapper-md">
	<h1 class="m-n font-thin h3">MESSAGE CENTRAL</h1>
</div>
<div class="wrapper-md" ng-controller="ListEditSubscriptionCtrl">
	<div class="panel panel-default">
		<div class="panel-heading">MESSAGE CENTRAL - Active Subscription</div>
		<div class="row wrapper">
			<div class="col-sm-4 m-b-xs">
				<div class="input-group  pull-left m-t-xs">
					<input type="text" class="input form-control" placeholder="Search" ng-model="query"> 
					<span class="input-group-btn">
						<button class="btn btn-default" type="button" ng-click="advsearch()">Search</button>
					</span>
				</div>
			</div>
			<div class="col-sm-5"></div>
			<div class="col-sm-3">
				<div class="btn-group dropdown pull-right m-t-xs">
					<button class="btn btn-default" data-toggle="dropdown">
						<i class="icon-settings"></i>
					</button>
					<ul class="dropdown-menu">
						<li><a ng-click="changerowstyle('RC.Comfortable')">Comfortable</a></li>
						<li><a ng-click="changerowstyle('RC.Cozy')">Cozy</a></li>
						<li><a ng-click="changerowstyle('RC.Compact')">Compact</a></li>
					</ul>
				</div>
				<div class="btn-group dropdown pull-right m-t-xs">
					<button class="btn btn-default" data-toggle="dropdown">
						Export...
						<span class="caret"></span>
					</button>
					<ul class="dropdown-menu">
						<li><a ng-click="exportpdf('currentPage')">Current Page PDF</a></li>
						<li><a ng-click="exportpdf('all')">All PDF</a></li>
						<li><a ng-csv="exportcsv('currentPage')" filename="{{csvfilename}}">Current Page CSV</a></li>
						<li><a ng-csv="exportcsv('all')" filename="{{csvfilename}}">All CSV</a></li>
					</ul>
				</div>
				<div class="btn-group  pull-right m-t-xs">
					<button class="btn btn-danger " type="button" ng-click="removeMessageSubscriptions()">remove</button>
				</div>
			</div>
		</div>
		<div class="table-responsive">
			<table search-watch-model="query" st-table="displayedCollection" st-safe-src="rowCollectionPage" class="table table-striped">
				<thead>
					<tr>
						<th style="width: 20px;"><input type="checkbox" ng-click="selectAllItems()"></th>
						<th st-sort="formattedRequestDate">Requested Date</th>
						<th st-sort="formattedRequestTime">Requested Time</th>
						<th st-sort="formattedExpiryDate">Expiry Date</th>
						<th st-sort="formattedProbillNumber">Notification For</th>
						<th st-sort="activityDescription">Activity</th>
						<th st-sort="messageCentral">Message Central</th>
						<th st-sort="email">E-mail</th>
					</tr>
				</thead>
				<tbody ng-show="!isLoading">
					<tr ng-repeat="row in displayedCollection">
						<td ng-style="rowstyle"><input type="checkbox" ng-model="row.selected"></td>
						<td ng-style="rowstyle"><a class="text-u-l" ng-click="editMessageSubscription(row)">{{row.formattedRequestDate}}</a></td>
						<td ng-style="rowstyle">{{row.formattedRequestTime}}</td>
						<td ng-style="rowstyle">{{row.formattedExpiryDate}}</td>
						<td ng-style="rowstyle">{{row.formattedProbillNumber}}</td>
						<td ng-style="rowstyle">{{row.activityDescription}}</td>
						<td ng-style="rowstyle">{{row.messageCentral}}</td>
						<td ng-style="rowstyle">{{row.email}}</td>
					</tr>
				</tbody>
				<tbody ng-show="isLoading">
					<tr>
						<td colspan="8" class="text-center"><i class="fa fa-spin fa-refresh"></i></td>
					</tr>
				</tbody>
				<tfoot>
					<tr>
						<td colspan="2"  class="text-left">
							<div>
								<small class="text-muted inline m-t-sm m-b-sm">Total item(s): {{conllectionLength}}</small>
							</div>
						</td>
						<td colspan="6" class="text-center">
							<div st-pagination="" st-items-by-page="itemsByPage" st-displayed-pages="7" class="no-margin"></div>
						</td>
					</tr>
				</tfoot>
			</table>
		</div>
	</div>

</div>
